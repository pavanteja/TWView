<!DOCTYPE html>
<html>
<head>
<title>Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="./bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
<style>
div[class*=span]
{
border: 1px solid #D8D8D8;
box-shadow: 3px 3px 5px 0px #E9E9E9;
}

div[class*=chartContainer]
{
margin-top:10px;
}

.appsblock
{
height:130px;
}
</style>
</head>
<body>

<div class="container-fluid">
  <div class="row-fluid">
    
    <div class="span12 appsblock">
    
    </div>
  </div>

<div class="row-fluid">
<div class="span12 chartContainer1">

</div>
</div>


<div class="row-fluid">

<div class="span4 chartContainer">

</div>

<div class="span4 chartContainer">

</div>

<div class="span4 chartContainer">

</div>
</div>



</div>











<script src="./js/jquery-1.9.1.min.js"></script>
		<script src="./js/knockout-2.2.1.js"></script>
		<script src="./js/globalize.js"></script>
		<script src="./js/dx.chartjs.js"></script>
<script>

measureScreen()
     function measureScreen()
 {

  var graph_divh=0.34722222222;
 console.log(document.height);
 console.log(screen.height);
 $('div[class*=chartContainer]').height(document.height*graph_divh);

 }

var dataSource = [
  { Day: 1, hits: 2},
  { Day: 2, hits: 2 },
  { Day: 3, hits: 0 },
  { Day: 4, hits: 1 },
  { Day: 5, hits: 2},
  { Day: 6, hits: 0},
  { Day: 7, hits: 0},
  { Day: 8, hits: 3},
  { Day: 9, hits: 1},
  { Day: 10, hits: 3},
  { Day: 11, hits: 0},
  { Day: 12, hits: 0},
  { Day: 13, hits: 0},
  { Day: 14, hits: 2},
  { Day: 15, hits: 6},
  { Day: 16, hits: 13},
  { Day: 17, hits: 8},
  { Day: 18, hits: 6},
  { Day: 19, hits: 5},
  { Day: 20, hits: 8},
  { Day: 21, hits: 0},
  { Day: 22, hits: 2},
  { Day: 23, hits: 4},
  { Day: 24, hits: 3},
  { Day: 25, hits: 7},
  { Day: 26, hits: 9},
  { Day: 27, hits: 16},
  { Day: 28, hits: 17},
  { Day: 29, hits: 14}];

  dispRealTimeHits(true);
  function dispRealTimeHits(anim)
  {
$(".chartContainer1").dxChart({
    title: "Real Time Hits",
  animation:anim,

    dataSource: dataSource,
tooltip: {
		enabled: true,
}

,
    commonSeriesSettings: {
        
type: "area",
        argumentField: "Day",
       
    },
    series: [
		{ valueField: "hits", name: "Hits", color: "orange" },
		
    ],
    legend: {
        verticalAlignment: "bottom",
        horizontalAlignment: "center",
	visible:false
    },
	argumentAxis: {
      
        position: 'top',
        grid: {visible: true},
		valueMarginsEnabled: false,
                   
    }
});
}
self.setInterval(function(){chartdisp()},5000);
var i=30
function chartdisp()
{
var today=new Date();
var h=today.getHours();
var m=today.getMinutes();
var s=today.getSeconds();
console.log(dataSource.shift())
console.log(today);
console.log(dataSource.push({Day:h+':'+m+':'+s,hits:Math.floor((Math.random()*100)+1)}))
 $('.chartContainer1').empty();
dispRealTimeHits(false);
}



</script>
</body>
</html>